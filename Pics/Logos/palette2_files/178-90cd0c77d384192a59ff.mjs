(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[178],{"+sgD":function(e,t,o){var a=o("/X16");function r(e={},t){if("RESOURCE_FETCH_COMPLETE"===t.type||"RESOURCE_FETCH_MORE_COMPLETE"===t.type){const{payload:a}=t;if("BoardResource"===a.name||"BoardPageResource"===a.name||"BoardActionStatusResource"===a.name)return{...e,...a.data||{},cover_images:{...e.cover_images,...(a.data||{}).cover_images},images:{...e.images,...(a.data||{}).images}};var o,r,n,i,c;if("BoardSectionResource"===a.name)return{...e,...(null===(o=a.data)||void 0===o?void 0:o.board)||{},cover_images:{...e.cover_images,...(null===(r=a.data)||void 0===r?void 0:null===(n=r.board)||void 0===n?void 0:n.cover_images)||{}},images:{...e.images,...(null===(i=a.data)||void 0===i?void 0:null===(c=i.board)||void 0===c?void 0:c.images)||{}}}}else{if("BOARD_INVITE_ACCEPTED_BY_VIEWER"===t.type){const{boardId:o}=t.payload;return{...e,id:o,access:["write"],collaborated_by_me:!0,is_collaborative:!0}}if("BOARD_FOLLOW"===t.type){const{boardId:o,value:a}=t.payload;return{...e,id:o,followed_by_me:a}}if("BOARD_COVER_IMAGE_UPDATED"===t.type){const{boardId:o,coverPin:a}=t.payload;return{...e,id:o,cover_pin:a}}if(t.type===a.a.USER_FOLLOW){const{id:o,value:a}=t.payload;return e.owner&&o===e.owner.id?{...e,followed_by_me:a}:e}if("SECTION_ADDED"===t.type){const{section_count:t}=e||{};return{...e,section_count:(t||0)+1}}if("SECTION_DELETED"===t.type){const{section_count:t}=e||{};return{...e,section_count:(t||1)-1}}if("BOARD_PIN_COUNT_CHANGED"===t.type){const{pin_count:o,sectionless_pin_count:a}=e||{},{sectionId:r}=t.payload,n="BOARD_PIN_COUNT_CHANGED"===t.type?t.payload.increment:1;return{...e,pin_count:"number"==typeof o?Math.max(0,o+n):o,sectionless_pin_count:r||"number"!=typeof a?a:Math.max(0,a+n)}}if("PLACE_ADDED"===t.type){const{place_saves_count:t}=e||{};return{...e,place_saves_count:(t||0)+1}}if("PLACE_DELETED"===t.type){const{place_saves_count:t}=e||{};return{...e,place_saves_count:(t||1)-1}}if("PLACES_ENABLED"===t.type)return{...e,places_enabled:!0};if("BOARD_ARCHIVED"===t.type)return{...e,archived_by_me_at:(new Date).toString()};if("BOARD_UNARCHIVED"===t.type){const t={...e};return delete t.archived_by_me_at,t}if("BOARD_REQUEST_TO_JOIN"===t.type){const{boardId:o,value:a}=t.payload;return{...e,id:o,viewer_collaborator_join_requested:a}}if("BOARD_UPDATE_COLLABORATION_SETTINGS"===t.type){const{boardId:o,collaboratorRequestsEnabled:a}=t.payload;return{...e,id:o,collaborator_requests_enabled:a}}if("BOARD_DISABLE_MORE_IDEAS_BADGING"===t.type)return{...e,has_fresh_more_ideas_tab:!1}}return e}const n=["BoardsResource","BoardFollowingResource","SearchResource","BoardArchiveResource","BoardIdeasCardFeedResource","BoardSoftDeleteResource"],i=(e,t)=>{if("RESOURCE_FETCH_CREATE"===t.type){const{payload:o}=t;if("BoardResource"===o.name||"BoardPageResource"===o.name||"BoardArchiveResource"===o.name||"BoardSoftDeleteResource"===o.name){const t=o.options.board_id;return{...e,[t]:!0}}}else if("RESOURCE_FETCH_COMPLETE"===t.type){const{payload:o}=t;if("BoardResource"===o.name||"BoardPageResource"===o.name||"BoardArchiveResource"===o.name||"BoardSoftDeleteResource"===o.name){const t=o.options.board_id,a={...e};return a[t]&&delete a[t],a}}return e},c=(e,t)=>{if("BOARD_DELETE"===t.type){const o={...e};return o[t.payload.boardId]={deleting:!0},o}if("BOARD_DELETE_COMPLETE"===t.type){const{error:o,payload:{boardId:a}}=t;if(o){const t={...e};return t[a]={deleting:!1,error:o,success:!1},t}{const t={...e};return t[a]={deleting:!1,success:!0},t}}return e},s={content:{},deleting:{},fetching:{},fetchAllComplete:!1,lastPinnedTo:null,isSocialSeasonalBoard:!1};t.a=(e=s,t)=>{if("RESOURCE_FETCH_COMPLETE"===t.type||"RESOURCE_FETCH_MORE_COMPLETE"===t.type){const{payload:a}=t;if("BoardPickerBoardsShortlistResource"===a.name){const o=a.data||[],r={...e,fetching:i(e.fetching,t)};return r.lastPinnedTo||(r.lastPinnedTo=o),r}if(n.includes(a.name)&&a.data){const o=a.data||[],r={...e,fetching:i(e.fetching,t),fetchAllComplete:"BoardsResource"===a.name||"BoardArchiveResource"===a.name||"BoardSoftDeleteResource"===a.name};return o.forEach(e=>{e.type&&"board"!==e.type||(r.content[e.id]={...r.content[e.id],...e})}),r}if("BoardResource"===a.name||"BoardPageResource"===a.name||"BoardActionStatusResource"===a.name){const o=a.options.board_id||(a.data||{}).id,{content:n={}}=e;return{...e,content:{...n,[o]:r(n[o],t)},fetching:i(e.fetching,t)}}if("PlacesResource"===a.name){const{options:{boardId:t}}=a;return{...e,content:{...e.content,[t]:{...e.content[t],places:(a.data||[]).map(e=>e.place)}}}}if("BoardSectionResource"===a.name){var o,d;const n=null===(o=a.data)||void 0===o?void 0:null===(d=o.board)||void 0===d?void 0:d.id,{content:i={}}=e;if(n)return{...e,content:{...i,[n]:r(i[n],t)}}}}else{if("BOARD_CREATE_COMPLETE"===t.type){const{payload:o}=t,{board:a}=o;return a&&a.id?{...e,content:{...e.content,[a.id]:{...e.content[a.id],...a}}}:e}if("BOARD_UPDATE_COMPLETE"===t.type){const{payload:o}=t,{board:a}=o;return{...e,content:{...e.content,[a.id]:{...e.content[a.id],...a,sensitivity:a.sensitivity||null}}}}if("BOARD_DELETE"===t.type)return{...e,deleting:c(e.deleting,t)};if("BOARD_DELETE_COMPLETE"===t.type){const{boardId:o}=t.payload,a={...e,deleting:c(e.deleting,t)};return delete a.content[o],a}if("BOARD_COVER_IMAGE_UPDATED"===t.type||"BOARD_DISABLE_MORE_IDEAS_BADGING"===t.type||"BOARD_FOLLOW"===t.type||"BOARD_INVITE_ACCEPTED_BY_VIEWER"===t.type||"BOARD_PIN_COUNT_CHANGED"===t.type||"BOARD_ARCHIVED"===t.type||"BOARD_UNARCHIVED"===t.type||"BOARD_REQUEST_TO_JOIN"===t.type||"BOARD_UPDATE_COLLABORATION_SETTINGS"===t.type||"SECTION_ADDED"===t.type||"SECTION_DELETED"===t.type||"BOARD_RESTORED"===t.type||"PLACE_ADDED"===t.type||"PLACE_DELETED"===t.type||"PLACES_ENABLED"===t.type){const{payload:{boardId:o}}=t,{content:a}=e;return{...e,content:{...a,[o]:r(a[o],t)}}}if(t.type===a.a.USER_FOLLOW){const{content:o}=e,{id:a}=t.payload,n=Object.keys(o).filter(e=>o[e].owner&&o[e].owner.id===a).reduce((e,a)=>(e[a]=r(o[a],t),e),{});return{...e,content:{...o,...n}}}if("BOARD_PIN_TO"===t.type){const{payload:o}=t,{board:a}=o,r={...e};if(r.lastPinnedTo){const e=r.lastPinnedTo.filter(e=>e.id!==a.id);r.lastPinnedTo=[a].concat(e)}else r.lastPinnedTo=[a];return r}if("SET_SOCIAL_SEASONAL_BOARD"===t.type){const{payload:o}=t,{isSocialSeasonalBoard:a,socialHeaderBgImage:r,socialHeaderBgColor:n,textIconColor:i}=o;return{...e,isSocialSeasonalBoard:a,socialHeaderBgImage:r,socialHeaderBgColor:n,textIconColor:i}}}return{...e,fetching:i(e.fetching,t)}}},"6BtJ":function(e,t,o){var a=o("TqAR");const r={};t.a=(e=r,t)=>{if("RESOURCE_FETCH_COMPLETE"===t.type||"RESOURCE_FETCH_MORE_COMPLETE"===t.type){const{payload:{data:o,name:r}}=t;if(["TodayTabResource","IdeasHubTodayArticlesResource"].includes(r)&&o){const t=o.reduce((e,t)=>(Object(a.h)(t)&&(e[t.id]=t),e),{});return{...e,...t}}if("TodayArticleResource"===r&&(null==o?void 0:o.id)){const t={[o.id]:o};return{...e,...t}}}return e}},"94rd":function(e,t,o){const a=e=>e||[],r={BaseSearchResource:e=>e?e.results:[],BoardFeedResource:a,BoardSectionPinsResource:a,BoardContentRecommendationResource:a,TodayTabResource:a};t.a=(e={},t)=>{if("RESOURCE_FETCH_COMPLETE"===t.type||"RESOURCE_FETCH_MORE_COMPLETE"===t.type){const{payload:o}=t;if(o.name in r){const t=r[o.name](o.data)||[],a={...e};return t.forEach(e=>{"story"===e.type&&(a[e.id]=e)}),a}}return e}},"j3z/":function(e,t,o){const a={googleOneTapFail:!1,googleOneTapInitialized:!1};t.a=(e=a,t)=>"GOOGLE_ONE_TAP_FAILED"===t.type?{...e,googleOneTapFail:!0}:"GOOGLE_ONE_TAP_INITIALIZED"===t.type?{...e,googleOneTapInitialized:!0}:e},y0oo:function(e,t,o){var a=o("Y+p1"),r=o.n(a),n=o("JBE3"),i=o.n(n);var c=o("TqAR");const s=e=>e||[],d={ArticleProductFeedResource:s,BaseSearchResource:e=>e?e.results:[],BoardContentRecommendationResource:s,BoardFeedResource:s,BoardSectionPinsResource:s,BoardShopCategoryFeedResource:s,BoardShopSavedProductsFeedResource:s,BrandCatalogFeedResource:s,BusinessProfileUserPinsResource:s,CategoryFeedResource:s,ConversationRelatedPinsResource:s,BoardIdeasCardFeedResource:s,DomainFeedResource:s,DynamicInsertionPinResource:e=>e?e.objects:[],ExploreFeedOfPinsResource:s,ExploreArticleResource:e=>e?e.objects.reduce((e,t)=>"style_pivot_shopping_upsell"===t.story_type?e.concat(t.objects.reduce((e,t)=>e.concat(t.objects),[])):e.concat(t.objects||[]),[]):[],ExploreArticleBlockPinResource:s,ExploreQuizFeedOfPinsResource:s,FollowingFeedResource:s,InterestResource:e=>e?e.results:[],MerchantFeedResource:s,NativeUserPinsResource:s,NewsHubDetailsResource:e=>e?e.reduce((e,t)=>t.content_items?e.concat(t.content_items.map(e=>e.content_object).filter(Boolean)):e,[]):[],PinCatalogResource:s,ProfileCoverFeedResource:s,OverviewUserDiscoveredPinsResource:s,OverviewUserPinsResource:s,RelatedModulesResource:e=>e?e.reduce((e,t)=>t.objects?e.concat(t.objects):e.concat([t]),[]):[],RelatedPinFeedResource:s,RelatedProductFeedResource:s,SearchResource:s,SectionSuggestionsPinsResource:s,ShoppingFeedModularizedResource:e=>e?e.reduce((e,t)=>t.objects?e.concat(t.objects):e.concat([t]),[]):[],StoreFrontFeedResource:s,StoreFrontSearchResource:e=>e?e.results:[],StyleContentResource:e=>e?e.results:[],TodayArticleFeedResource:e=>{if(Object(c.g)(e)){return e.reduce((e,t)=>{const o=t.objects;return Array.isArray(o)?e.concat(o):e},[])}return e||[]},TodayTabResource:(e=[])=>{return e.reduce((e,t)=>t.content_pin?e.concat(t.content_pin):e,[])},TopicFeedResource:s,UserDiscoveredPinsResource:s,UserMostRepinnedPinResource:s,UserHomefeedResource:s,UserActivityPinsResource:s,UserRecentActivityResource:s,UserPinsResource:s,VisualLinkRelatedProductFeedResource:s,VisualLiveSearchResource:e=>e?e.results:[],VisualLiveSearchProductFeedResource:s,VisualLinkTaggedObjectsStoryFeedResource:s,VisualLinkVisualSearchResource:s,VisualSearchFlashlightUnifiedResource:e=>e?e.results:[]},u=e=>{const t=e.name;let o,a=t;switch(t){case"BaseSearchResource":case"SearchResource":const t=e.options.query;"blp"===e.options.auth_lp_type?o=null:t&&(o=encodeURIComponent(t)),a="SearchResource";break;case"BrandCatalogFeedResource":o=e.options.pin;break;case"CategoryFeedResource":o=e.options.feed;break;case"DomainFeedResource":o=e.options.domain;break;case"ExploreArticleBlockPinResource":a="ExploreArticleResource",o=e.options.story_id;break;case"ExploreArticleResource":o=e.options.story_id;break;case"NewsHubDetailsResource":o=e.options.news_id;break;case"RelatedModulesResource":case"RelatedPinFeedResource":case"RelatedProductFeedResource":o=e.options.pin;break;case"ArticleProductFeedResource":o=e.options.article;break;case"TopicFeedResource":o=e.options.interest;break;case"ShoppingFeedModularizedResource":case"VisualSearchFlashlightUnifiedResource":case"BoardShopCategoryFeedResource":case"BoardShopSavedProductsFeedResource":o=e.options.pin;break;case"TodayArticleFeedResource":o=e.options.id}return o?`${a}_${o.toLowerCase()}`:t},_=(e,t,o=!1)=>{const a=i()({},e,t,o?(e,t)=>null===t?e:void 0:void 0);return r()(e,a)?e:a};t.a=(e={},t)=>{if("RESOURCE_FETCH_COMPLETE"===t.type||"RESOURCE_FETCH_MORE_COMPLETE"===t.type){const{payload:o}=t;if(o.name in d){const t=d[o.name](o.data)||[],a={...e};return t.forEach(t=>{if("pin"===t.type){const a=u(o);let r={};e[t.id]&&(r=e[t.id].tracking_params_map||{}),r[a]=t.tracking_params||"",t.tracking_params_map=r}t.board_activity&&(t.board_activity={id:t.board_activity.id}),t.type&&"pin"!==t.type||(a[t.id]=_(e[t.id],t,!0))}),a}if(("PinResource"===o.name||"PinPageResource"===o.name||"StoryPinEditResource"===o.name)&&o.data){const{data:t,options:{preserve_component_state:a=!1}}=o,r=u(o);let n={};return e[t.id]&&(n=e[t.id].tracking_params_map||{}),n[r]=t.tracking_params,t.tracking_params_map=n,t.board_activity&&(t.board_activity={id:t.board_activity.id}),{...e,[t.id]:a?_(t,e[t.id]):_(e[t.id],t)}}if("BoardActivityResource"===o.name&&o.data&&o.data.pin){const{data:t}=o,{id:a,pin:{id:r}}=t;if(e[r]&&!e[r].board_activity)return{...e,[r]:_(e[r],{board_activity:{id:a}})}}}else if("ACTIVITY_ITEM_UPDATED"===t.type){const{payload:{data:o}}=t,a=o&&o.pin&&o.pin.id||null;if(a&&e[a]&&!e[a].board_activity)return{...e,[a]:_(e[a],{board_activity:{id:o.id}})}}else if("PIN_INVALIDATE"===t.type){const{payload:{pinId:o}}=t,a={...e};return o in a&&delete a[o],a}const o={...e};let a=!1;return Object.keys(o).forEach(r=>{const n=o[r];o[r]=function(e,t){if("PIN_DID_IT"===t.type){const{id:o,value:a}=t.payload;if(o===e.id){const t=a?1:-1,o=(e.aggregated_pin_data||{}).did_it_data,r={...o,images_count:(o.images_count||0)+t},n={...e.aggregated_pin_data,did_it_data:r};return{...e,aggregated_pin_data:n,done_by_me:a}}}else if("PIN_UPDATE_COMMENT_COUNT"===t.type){const{id:o,increment:a}=t.payload;if(o===e.id&&e.aggregated_pin_data){const t={...e.aggregated_pin_data,comment_count:e.aggregated_pin_data.comment_count+a};return{...e,aggregated_pin_data:t}}}else if("PIN_SHOW_FEEDBACK"===t.type){const{id:o,value:a,text:r}=t.payload;if(o===e.id)return{...e,showFeedback:a,feedbackText:r}}else if("PIN_SHOW_UNDO_AND_FEEDBACK"===t.type){const{id:o,value:a,text:r,undoAction:n,undoText:i}=t.payload;if(o===e.id)return{...e,showFeedback:a,feedbackText:r,undoAction:n,undoText:i}}else if("PIN_SHOW_FEEDBACK_OVERLAY"===t.type){const{id:o,value:a}=t.payload;if(o===e.id)return{...e,showFeedbackOverlay:a}}else if("PIN_HIDE_FEEDBACK"===t.type){const{id:o,value:a}=t.payload;if(o===e.id)return{...e,showFeedback:a}}else if("FEEDBACK_WINDOW_SUBMIT"===t.type){const{pinId:o,text:a}=t.payload;if(o===e.id)return{...e,sentFeedback:a}}else if("PIN_QUICK_SAVE"===t.type){const{pinId:o,boardId:a,localPinId:r,title:n,url:i}=t.payload;if(o===e.id)return{...e,savedInfo:{boardId:a,localPinId:r,title:n,url:i}}}else if("PIN_BETTER_SAVE"===t.type){const{pinId:o,boardId:a,localPinId:r,sectionId:n,title:i,url:c}=t.payload;if(o===e.id)return{...e,savedInfo:{boardId:a,localPinId:r,sectionId:n,title:i,url:c}}}else if("PIN_BETTER_UNSAVE"===t.type){const{pinId:o}=t.payload;if(o===e.id){const t={...e};return delete t.savedInfo,{...t}}}else if("PIN_BETTER_SELECT_BOARD_OR_SECTION"===t.type){const{pinId:o,boardId:a,sectionId:r,title:n,url:i}=t.payload;if(o===e.id)return{...e,selectedItem:{boardId:a,sectionId:r,title:n,url:i}}}else if("PIN_SAVE"===t.type){const{boardId:o,pinId:a,saved:r,title:n,url:i}=t.payload;if(a===e.id){if(r)return{...e,savedInfo:{boardId:o,title:n,url:i}};{const t={...e};return delete t.savedInfo,{...t}}}}else if("CHANGE_CAROUSEL_SLOT_INDEX"===t.type){const{pinId:o,index:a}=t.payload;if(o===e.id)return{...e,carousel_data:{...e.carousel_data,index:a}}}else if("PIN_UPDATE_REACTION_COUNT"===t.type){const{id:o,increment:a,reactionType:r}=t.payload;if(o===e.id){const{reaction_counts:t={}}=e,o=t[r]||0,n=a?o+1:Math.max(o-1,0),i=a?r:0;if(0===n){const o={...e,reaction_counts:{...t},reaction_by_me:i};return delete o.reaction_counts[r],{...o}}return{...{...e,reaction_counts:{...t,[r]:n},reaction_by_me:i}}}}else if("DELETE_PIN_MENTION"===t.type){const{pinId:o,user_mention_tags:a}=t.payload;if(o===e.id)return{...e,user_mention_tags:a}}return e}(n,t),o[r]!==e[r]&&(a=!0)}),a?o:e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/178-90cd0c77d384192a59ff.mjs.map
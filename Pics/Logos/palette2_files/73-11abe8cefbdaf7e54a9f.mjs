(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[73],{CRIG:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("q1tI"),a=n.n(i),r=n("n6mq");function o({image:e,width:t,height:n}){return e?a.a.createElement(r.x,{wash:!0,width:t,height:n},a.a.createElement(r.s,{alt:"",color:"#EFEFEF",fit:"cover",naturalHeight:e.height||1,naturalWidth:e.width||1,src:e.url||""})):a.a.createElement(r.d,{color:"lightGray",width:t,height:n})}},QKYm:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return u}));const i=16,a=3,r={square:{width:236,height:236},wide:{width:300,height:200},xWide:{width:358,height:200},xxWide:{width:376,height:200}},o={square:{width:236,height:176},wide:{width:300,height:135},xWide:{width:358,height:200},xxWide:{width:376,height:200}},l={square:{width:236,height:157},wide:{width:320,height:213}};function c(e,t){return t?o[e].width:r[e].width}function d(e,t){return t?o[e].height:r[e].height}function s(e){return l["square"===e?"square":"wide"]}function u(e){return"list"===e?"100%":s(e).width+i}},XibM:function(e,t,n){var i=n("q1tI"),a=n.n(i),r=n("/MKj"),o=n("Ye/N"),l=n("p+V9"),c=n("n6mq");function d({cover:e,height:t,image:n,width:i}){var r,o,d;return e?a.a.createElement(l.a,{customCover:e.isCustom,height:t,imgPos:e.position||{width:0,height:0,x:0,y:0},imgUrl:e.url,width:i}):n?a.a.createElement(c.x,{height:t,wash:!0,width:i},a.a.createElement(c.s,{alt:"",color:"#EFEFEF",fit:"cover",naturalHeight:null!==(r=n.height)&&void 0!==r?r:1,naturalWidth:null!==(o=n.width)&&void 0!==o?o:1,src:null!==(d=n.url)&&void 0!==d?d:""})):a.a.createElement(c.d,{color:"lightGray",height:t,width:i})}var s=n("CRIG");function u(){return a.a.createElement(c.q,{accessibilityLabel:o.a._("Secret board","Accessibility label for icon indicating a secret board","Accessibility label for icon indicating a secret board"),color:"darkGray",icon:"lock",inline:!0})}var m=n("QKYm");function h({boardThumbs:e=[],cover:t,editButton:n,isActive:i,isSecret:r,layout:o}){const{height:l,width:h}=Object(m.e)(o),g=t?void 0:e[0],f=e.slice(t?0:1);return a.a.createElement(c.x,{height:l,rounding:4,wash:i,width:h},a.a.createElement(c.d,{color:"white",display:"flex",height:"100%",justifyContent:"between",width:"100%"},a.a.createElement(d,{cover:t,height:l,image:g,width:Math.floor(h/3*2)}),a.a.createElement(c.d,{direction:"column",display:"flex",flex:"none",height:"100%",justifyContent:"between"},a.a.createElement(s.a,{height:Math.floor(l/2),image:f[0],width:Math.floor(h/3)}),a.a.createElement(s.a,{height:Math.floor(l/2),image:f[1],width:Math.floor(h/3)}))),r&&a.a.createElement(c.d,{alignItems:"center",color:"white",display:"flex",height:32,justifyContent:"center",left:!0,marginStart:2,marginTop:2,position:"absolute",rounding:"circle",top:!0,width:32},a.a.createElement(u,null)),i&&n&&a.a.createElement(c.d,{alignItems:"center",bottom:!0,color:"white",display:"flex",height:32,justifyContent:"center",marginBottom:2,marginEnd:2,position:"absolute",right:!0,rounding:"circle",width:32},n))}var g=n("JW66");function f(e){return e.privacy===g.a.BoardPrivacy.SECRET}var p=n("8Mj5"),v=n("xweI"),E=n.n(v),b=n("v/Q4");function w(e,t,n){const{collaborated_by_me:i,collaborating_users:a=[],owner:r}=e,o=[r];if(i||n){const e=a.findIndex(e=>t.isAuth&&e.id===t.id);if(-1!==e){const t=a.splice(e,1)[0];o.push(t)}else o.push(t)}const l=m.a-o.length,c=E()(a,"full_name").slice(0,l);return[...o,...c]}function y(e){var t,n;return{href:`/${e.username}`,key:e.id,name:null!==(t=e.fullName)&&void 0!==t?t:e.full_name,src:null!==(n=e.imageMediumUrl)&&void 0!==n?n:e.image_medium_url}}function x({board:e,forceViewer:t,isCompact:n,ownerOnly:i}){const r=Object(b.a)();return a.a.createElement(p.a,{faces:i?[y(e.owner)]:w(e,r,t).map(y),faceSize:n?"xs":"sm",overlap:n?-3:-4})}var _=n("wdRm");function C({board:e,isCompact:t,isOwnProfile:n,subtitle:i}){const{is_collaborative:r,name:o,pin_count:l,section_count:d}=e;return a.a.createElement(c.d,{alignItems:"start",display:"flex",padding:2},a.a.createElement(c.d,{alignItems:"start",direction:"column",display:"flex",flex:"grow",overflow:"hidden"},a.a.createElement(c.p,{size:"sm",truncate:!0},o),a.a.createElement(c.d,{alignItems:"center",display:"flex",marginTop:1},a.a.createElement(_.a,{pinCount:l,sectionCount:d}),n&&a.a.createElement(c.d,{marginStart:2},a.a.createElement(c.R,{color:"gray",size:"sm",truncate:!0},i)))),r&&a.a.createElement(c.d,{marginStart:2},a.a.createElement(x,{board:e,isCompact:t})))}var I=n("3gA6"),A=n("xdpg");function R({board:e,handleInviteResponse:t,invite:n,isBoardInviteAccepted:r,isCompact:l}){const{name:d,url:s}=e;return a.a.createElement(i.Fragment,null,a.a.createElement(c.d,{alignItems:"start",display:"flex",padding:2},a.a.createElement(c.d,{alignItems:"start",direction:"column",display:"flex",flex:"grow",overflow:"hidden"},a.a.createElement(I.b,{to:s},r?a.a.createElement(c.R,{size:"md",truncate:!0},o.a._("Youâ€™ve joined","boardRep.invite.invitationAcceptedText","Text shown after accepting collaborator board invitations")):a.a.createElement(c.R,{size:"md",truncate:!0},function(e){const{full_name:t}=e;return Object(A.i)(o.a._("{{ fullName }} invited you to","boardRep.invite.invitationText","Indicating that another user invited the viewer to this board"),{fullName:t})}(n.invited_by_user)),a.a.createElement(c.d,{marginTop:1},a.a.createElement(c.p,{size:"sm",truncate:!0},d)))),a.a.createElement(c.d,{marginStart:2},a.a.createElement(x,{board:e,forceViewer:!0,isCompact:l,ownerOnly:!r}))),r?a.a.createElement(c.d,{direction:"row",display:"flex",paddingX:2},a.a.createElement(c.d,{flex:"grow",marginBottom:3,paddingX:1},a.a.createElement(I.b,{to:s},a.a.createElement(c.e,{size:"lg",text:o.a._("See board","boardRep.invite.seeBoardButton","Button text to see board after accepting collaborator invite")})))):a.a.createElement(c.d,{direction:"row",display:"flex"},a.a.createElement(c.d,{column:6,marginBottom:3,paddingX:1},a.a.createElement(c.e,{onClick:()=>{t(!1)},size:"lg",text:o.a._("Decline","boardRep.invite.declineButton","Button text to decline board collaborator invite or request")})),a.a.createElement(c.d,{column:6,marginBottom:3,paddingX:1},a.a.createElement(c.e,{color:"red",onClick:()=>{t(!0)},size:"lg",text:o.a._("Accept","boardRep.invite.acceptButton","Button text to accept board collaborator invite or request")}))))}function B({board:e,handleInviteResponse:t,invite:n,isBoardInviteAccepted:i,isCompact:r,isOwnProfile:o,subtitle:l}){return n?a.a.createElement(R,{board:e,handleInviteResponse:t,invite:n,isBoardInviteAccepted:i,isCompact:r}):a.a.createElement(C,{board:e,isCompact:r,isOwnProfile:o,subtitle:l})}const k="170x",O="222x",S=e=>{const t=e.split("/");return t[t.length-1].split(".")[0]};function q({board:e,canEdit:t,handleInviteResponse:n,images:r,invite:l,isActive:d,isBoardInviteAccepted:s,isOwnProfile:u,isUserBlocked:m,layout:g,onEditClick:p,progress:v,subtitle:E,toastImageUrl:b}){var w,y,x,_;const{cover_images:C,cover_pin:A,has_custom_cover:R,url:q}=e,z=null!==(w=A&&A.crop&&A.image_size&&{x:A.crop[0],y:A.crop[1],width:A.image_size[0],height:A.image_size[1]})&&void 0!==w?w:{x:0,y:0,width:0,height:0};let j=(null==A?void 0:A.image_url)||(null===(y=C[O])||void 0===y?void 0:y.url)?{isCustom:R,position:z,url:null!==(x=null==A?void 0:A.image_url)&&void 0!==x?x:C[O].url}:void 0;const P=null!==(_=r[k])&&void 0!==_?_:[];let M=[];if(j){var U,X;const e=null!==(U=null!==(X=null==A?void 0:A.image_signature)&&void 0!==X?X:(null==A?void 0:A.image_url)&&S(A.image_url))&&void 0!==U?U:C[O].url&&S(C[O].url);M=P.filter(t=>!t.url.includes(e))}else M=P,l&&"square"!==g&&P.length&&(j={isCustom:R,position:z,url:P[0].url},M=P.slice(1));const F=t?a.a.createElement(c.r,{accessibilityLabel:o.a._("Edit"),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>p(e),size:"sm"}):null,L="list"!==g?a.a.createElement(h,{boardThumbs:M,cover:j,editButton:F,isActive:d,isSecret:f(e),layout:g}):null;return a.a.createElement(i.Fragment,null,l?a.a.createElement(I.b,{to:q},L):L,a.a.createElement(B,{board:e,handleInviteResponse:n,invite:l,isBoardInviteAccepted:s,isCompact:"square"===g,isOwnProfile:u,subtitle:E}))}var z=n("mabI");function j({board:e,canEdit:t,isActive:n,onEditClick:i,subtitle:r}){const{image_cover_url:l,is_collaborative:d,name:s,pin_count:m,section_count:h}=e,g=d&&a.a.createElement(c.d,{marginEnd:2,paddingX:1},a.a.createElement(c.q,{accessibilityLabel:o.a._("Group board","Accessibility label to indicate group boards","Accessibility label to indicate group boards"),color:"darkGray",icon:"people",size:16}));return a.a.createElement(c.d,{alignItems:"center",display:"flex",marginEnd:-4,marginStart:-4},a.a.createElement(c.d,{column:9,display:"flex",paddingX:4},a.a.createElement(c.d,{display:"flex",flex:"grow",justifyContent:"between",marginEnd:-4,marginStart:-4},a.a.createElement(c.d,{overflow:"hidden",paddingX:4},a.a.createElement(c.d,{display:"flex",marginEnd:-2,marginStart:-2},a.a.createElement(c.d,{flex:"none",paddingX:2},a.a.createElement(c.d,{height:40,overflow:"hidden",rounding:1,width:40},l?a.a.createElement(c.s,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:l}):a.a.createElement(c.d,{color:"lightGray",height:"100%",width:"100%"}))),a.a.createElement(c.d,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:2},a.a.createElement(c.d,{overflow:"hidden",paddingX:1},a.a.createElement(c.R,{truncate:!0,weight:"bold"},s))))),a.a.createElement(c.d,{alignItems:"center",display:"flex",flex:"none",paddingX:4},f(e)&&a.a.createElement(c.d,{marginEnd:2},a.a.createElement(u,null)),g,a.a.createElement(z.a,{pinCount:m,sectionCount:h})))),a.a.createElement(c.d,{alignItems:"center",column:3,display:"flex",justifyContent:"between",marginEnd:-1,marginStart:-1,paddingX:4},r&&a.a.createElement(c.d,{overflow:"hidden",paddingX:1},a.a.createElement(c.R,{size:"md",truncate:!0},r)),t&&n&&a.a.createElement(c.d,{flex:"none",paddingX:1},a.a.createElement(c.r,{accessibilityLabel:o.a._("Edit","Edit button accessibility label","Edit button accessibility label"),icon:"edit",onClick:({event:e})=>i(e)}))))}var P=n("eOdZ"),M=n("CvCA"),U=n("mU19"),X=n("fArA"),F=n("nGHF");function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=Object(X.compose)(Object(r.connect)(({boards:e,users:t},{board:n})=>{const i=t[n&&n.owner&&n.owner.id],a=n&&n.id,r=e&&e.content&&e.content[a];return{isUserBlocked:i&&i.blocked_by_me,reduxBoard:r}},()=>({})),F.c)(class extends a.a.Component{constructor(...e){var t;super(...e),t=this,L(this,"state",{isActive:!1,isBoardInviteAccepted:!1}),L(this,"handleInviteResponse",(async function(e){const{invite:n,onDeclineRequest:i,toastManagerContext:r}=t.props;if(!n)return;const{board:l={},invited_user:c={}}=n,d={board_id:null==l?void 0:l.id,invited_user_id:c.id},s=e?"callUpdate":"callDelete";await P.a.create("BoardInviteResource",d)[s](),t.setState({isBoardInviteAccepted:e}),!e&&i&&(i(),r.showToast(({onHide:e})=>a.a.createElement(M.a,{onHide:e,text:o.a._("Invitation declined","text in toast after declined a board collaborator invite","text in toast after declined a board collaborator invite")})))})),L(this,"handleMouseEnter",()=>{const{isReordering:e}=this.props;this.setState({isActive:!e}),U.q.loader()}),L(this,"handleMouseLeave",()=>{this.setState({isActive:!1})})}UNSAFE_componentWillReceiveProps(e){e.isReordering&&this.setState({isActive:!1})}render(){const{board:e,canEdit:t,images:n,invite:i,isOwnProfile:r,isUserBlocked:o,layout:l,onEditClick:d,progress:s,reduxBoard:u,subtitle:m,toastImageUrl:h}=this.props,{isActive:g,isBoardInviteAccepted:f}=this.state;if(e||u){const p=null!=e?e:u;return a.a.createElement(c.d,{"data-test-id":`board-${p.name}`,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},"list"===l?a.a.createElement(j,{board:p,canEdit:t,isActive:g,onEditClick:d,subtitle:m}):a.a.createElement(q,{board:p,canEdit:t,handleInviteResponse:e=>{this.handleInviteResponse(e)},images:n,invite:i,isActive:g,isBoardInviteAccepted:f,isOwnProfile:r,isUserBlocked:o,layout:l,onEditClick:d,progress:s,subtitle:m,toastImageUrl:h}))}return null}})},mabI:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),a=n.n(i),r=n("Ye/N"),o=n("oRao"),l=n("vvax"),c=n("n6mq");function d({pinCount:e,placesCount:t,sectionCount:n}){const i=!!t&&0!==e||!t;return a.a.createElement(c.d,{display:"flex",direction:"column"},t?a.a.createElement(c.d,{display:"none",smDisplay:"flex",overflow:"hidden"},a.a.createElement(c.R,{size:"md",inline:!0,truncate:!0},Object(l.b)(r.a.ngettext("{{ count }} place","{{ count }} places",t,"label for n amount of places","label for n amount of places"),{count:a.a.createElement(o.a,{value:t,key:"places-count"})}))):null,n?a.a.createElement(c.d,{display:"none",smDisplay:"flex",overflow:"hidden"},a.a.createElement(c.R,{size:"md",inline:!0,truncate:!0},Object(l.b)(r.a.ngettext("{{ count }} section","{{ count }} sections",n,"label for n amount of sections","label for n amount of sections"),{count:a.a.createElement(o.a,{value:n,key:"section_count"})}))):null,i&&a.a.createElement(c.d,{overflow:"hidden"},a.a.createElement(c.R,{size:"md",truncate:!0},Object(l.b)(r.a.ngettext("{{ count }} Pin","{{ count }} Pins",e,"label for n amount of pins","label for n amount of pins"),{count:a.a.createElement(o.a,{value:e,key:"pin_count"})}))))}},"p+V9":function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("q1tI"),a=n.n(i);function r({customCover:e,height:t,imgUrl:n,imgPos:i,width:r}){const o={height:t,width:r},l=t/r;let c="center center";if(e&&i){let e=1;e=i.height/i.width>l?r/i.width:t/i.height,c=`-${i.x*e}px -${i.y*e}px`}const d={backgroundImage:`url(${n})`,backgroundPosition:c,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF"};return a.a.createElement("div",{style:o},a.a.createElement("div",{className:"relative",style:d},a.a.createElement("div",{className:"imageWash absolute"})))}},wdRm:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),a=n.n(i),r=n("KEt0"),o=n("Ye/N"),l=n("oRao"),c=n("vvax"),d=n("n6mq");function s({pinCount:e,sectionCount:t}){return a.a.createElement(d.d,{alignItems:"center",display:"flex"},a.a.createElement(d.d,{overflow:"hidden"},a.a.createElement(d.R,{size:"sm",truncate:!0},Object(c.b)(o.a.ngettext("{{ count }} Pin","{{ count }} Pins",e,"label for n amount of pins","label for n amount of pins"),{count:a.a.createElement(l.a,{key:"pin_count",value:e})}))),t?a.a.createElement(i.Fragment,null,a.a.createElement(r.a,null),a.a.createElement(d.d,{display:"none",overflow:"hidden",smDisplay:"flex"},a.a.createElement(d.R,{inline:!0,size:"sm",truncate:!0},Object(c.b)(o.a.ngettext("{{ count }} section","{{ count }} sections",t,"label for n amount of sections","label for n amount of sections"),{count:a.a.createElement(l.a,{key:"section_count",value:t})})))):null)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/73-11abe8cefbdaf7e54a9f.mjs.map
(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[115,"FullHeightInboxDesktop"],{"+yTG":function(e,t,a){var n=a("q1tI"),r=a.n(n),i=a("Ye/N"),o=a("vvax"),s=a("joD6");const l=(e,t)=>t.isAuth&&t.id===e.id;t.a=Object(s.a)(class extends r.a.PureComponent{following(){const{user:e,viewer:t}=this.props;return l(e,t)?this.ownFollowingText():this.othersFollowingText()}followers(){const{user:e,viewer:t}=this.props;return l(e,t)?i.a._("Nobody has followed your boards yet","Text displayed when the current user is viewing their own profile and has yet to have their boards followed","Text displayed when the current user is viewing their own profile and has yet to have their boards followed"):Object(o.b)(i.a._("Nobody has followed {{ firstName }}'s boards yet","Text displayed when a no one has followed a user’s boards","Text displayed when a no one has followed a user’s boards"),{firstName:e.first_name})}community(){const{user:e,viewer:t}=this.props;return l(e,t)?i.a._("No one is following you","Text displayed when the current user is viewing their own profile and has yet to have their profile/boards followed","Text displayed when the current user is viewing their own profile and has yet to have their profile/boards followed"):Object(o.b)(i.a._("Be the first to follow {{ firstName }}","Text displayed when a no one has followed a user’s profile/boards","Text displayed when a no one has followed a user’s profile/boards"),{firstName:e.first_name})}othersFollowingText(){const{subject:e,user:{first_name:t}}=this.props;switch(e){case"boards":return Object(o.b)(i.a._("{{ firstName }} hasn't followed any boards yet","Text displayed when a user has not followed any boards","Text displayed when a user has not followed any boards"),{firstName:t});case"topics":return Object(o.b)(i.a._("{{ firstName }} hasn't picked any topics to follow yet","Text displayed when a user has not followed any topics","Text displayed when a user has not followed any topics"),{firstName:t});case"users":return Object(o.b)(i.a._("{{ firstName }} hasn't followed anyone yet","Text displayed when a user has not followed anyone","Text displayed when a user has not followed anyone"),{firstName:t});default:return null}}ownFollowingText(){const{subject:e}=this.props;switch(e){case"boards":return i.a._("You haven’t followed any boards yet","Text displayed when the current user is viewing their own profile and has yet to follow any boards","Text displayed when the current user is viewing their own profile and has yet to follow any boards");case"topics":return i.a._("You haven’t picked any topics to follow yet","Text displayed when the current user is viewing their own profile and has yet to follow any topics","Text displayed when the current user is viewing their own profile and has yet to follow any topics");case"users":return i.a._("You haven’t followed anyone yet","Text displayed when the current user is viewing their own profile and has yet to follow any other users","Text displayed when the current user is viewing their own profile and has yet to follow any other users");default:return null}}profile(){const{subject:e,user:t,viewer:a}=this.props;if(l(t,a))switch(e){case"pins":return t.is_partner?i.a._("Nothing to see yet! Pins you publish will show up here.","profile.businessProfile.latestFeed.emptyLabel","label for empty business profile self-view of latest feed"):null;default:return null}const{first_name:n}=t;switch(e){case"pins":return Object(o.b)(i.a._("{{ firstName }} hasn't saved any Pins yet","Text displayed when a user has not saved any pins","Text displayed when a user has not saved any pins"),{firstName:n});case"boards":return Object(o.b)(i.a._("{{ firstName }} hasn't created any boards yet","Text displayed when a user has not created any boards","Text displayed when a user has not created any boards"),{firstName:n});case"domainPins":return Object(o.b)(i.a._("{{ firstName }} hasn't had any pins saved from their domain yet","Text displayed when a user has not had any images from their website pinned","Text displayed when a user has not had any images from their website pinned"),{firstName:n});default:return null}}shop(){const{subject:e}=this.props;switch(e){case"search":return i.a._("Sorry, we couldn't find any Pins for this search.","Text displayed when a search result is empty","Text displayed when a search result is empty");default:return null}}render(){const{surface:e}=this.props;switch(e){case"followers":return this.followers();case"following":return this.following();case"profile":return this.profile();case"community":return this.community();case"shop":return this.shop();default:return null}}})},"4cpq":function(e,t,a){a.d(t,"a",(function(){return o}));var n=a("q1tI"),r=a.n(n),i=a("n6mq");function o(e){const{children:t,display:a,id:n}=e;return r.a.createElement(i.d,{"data-test-id":n,display:a},t)}},"75Er":function(e,t,a){a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return d}));var n=a("q1tI"),r=a.n(n),i=a("+NLT"),o=a("m2Wt"),s=a("h4v/");function l(e,t){Object(n.useEffect)(()=>{if(e){const t=o.a.fromPlainObject(e);t.setEventType(13),t.setRequestIdentifier(i.a.initialPageContext.PAGE_LOAD_REQUEST_IDENTIFIER),s.a.getInstance().addEvent(t)}},[t])}function c(e,t){return function(a){function n(n){return l(e(n),t?t(n):void 0),r.a.createElement(a,n)}return n.displayName=`withViewLog(${a.displayName||a.name||""})`,n}}function d(e){const{children:t,log:a}=e;return l(a),t||null}},"8vQR":function(e,t,a){a.d(t,"a",(function(){return d}));var n=a("q1tI"),r=a.n(n),i=a("Ye/N"),o=a("7w6Q"),s=a("eOdZ"),l=a("n6mq"),c=a("U4JR");function d(e){const{identifier:t,onHide:a}=e,n=()=>{s.a.create("ShareSuggestionsHideResource",{user_identifier:t}).callCreate().then(()=>{a(),(()=>{const{component:t,element:a}=e;Object(c.a)(101,{component:t,element:a}),o.a.increment("web_contacts.suggestions.hide",1,{surface:t})})()})};return r.a.createElement(l.r,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),n()},accessibilityLabel:i.a._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},"CgR/":function(e,t,a){a.d(t,"a",(function(){return u}));var n=a("q1tI"),r=a.n(n),i=a("qWlA"),o=a("geGc"),s=a("TqAR"),l=a("TiQD"),c=a("oVol"),d=a("n6mq");function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class u extends n.Component{constructor(...e){super(...e),h(this,"handleDismiss",()=>{const{onFlyoutDismiss:e}=this.props;e()}),h(this,"handleClick",Object(i.a)(e=>{(null==e?void 0:e.stopPropagation)&&e.stopPropagation(),this.toggle()})),h(this,"onHide",()=>{this.props.onClick(),this.handleDismiss()}),h(this,"flyoutProps",()=>{const{gridDescription:e,idealDirection:t,imageSrc:a,pinId:n,userId:i,board:l,sendType:d,fullName:h,profileUrl:u,viewParameter:m,viewType:p,onExternalSend:g,showCaret:f,todayArticle:b}=this.props;let E={description:e,id:n,imageUrl:a,name:"",type:c.a.PIN,url:`/pin/${n}/`},y=c.a.PIN;switch(d){case"user":E={description:e,id:i,imageUrl:a,name:h,type:c.a.PINNER,url:u},y=c.a.USER;break;case"board":E=l&&{description:l.description,id:l.id,imageUrl:l.imageUrl,name:l.name,type:c.a.BOARD,url:l.url},y=c.a.BOARD;break;case"today_article":E=b&&{description:b.subtitle||"",id:b.id,imageUrl:a,name:b.title,type:c.a.TODAY_ARTICLE,url:Object(s.f)(b)},y=c.a.TODAY_ARTICLE}const w={classNames:"SendPin",isFlyout:!0,onHide:this.onHide,onExternalSend:g,sendType:y,sharedObject:E,viewParameter:m,viewType:p};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:f,children:r.a.createElement(o.default,w)}})}static makeSendShareButton(e){return t=>r.a.createElement(this,Object.assign({ref:t.shareButtonRef,Subject:e},t))}toggle(){const{onToggleFlyout:e}=this.props;e()}render(){const{Subject:e,inModal:t,isFlyoutOpen:a,shownWithinMasonry:n}=this.props,{anchor:i,idealDirection:o,onDismiss:s,showCaret:c,children:h}=this.flyoutProps();return r.a.createElement("div",null,r.a.createElement(d.d,{ref:e=>{e&&(this.flyoutAnchor=e)}},r.a.createElement(e,Object.assign({handleSendShareFlyoutButtonClick:this.handleClick},this.props))),a&&(n?r.a.createElement(d.u,null,r.a.createElement(d.d,{zIndex:t?l.a:void 0,position:t?"absolute":void 0,top:!!t||void 0},r.a.createElement(d.n,{anchor:i,idealDirection:o,onDismiss:s,showCaret:c,size:"xl",positionRelativeToAnchor:!1},h))):r.a.createElement(d.n,{anchor:i,idealDirection:o,onDismiss:s,showCaret:c,size:"xl"},h)))}}h(u,"defaultProps",{idealDirection:"down",onClick:()=>{}})},ENhS:function(e,t,a){a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var n=a("1dBE");const{Provider:r,Consumer:i,useHook:o}=Object(n.c)("SurfaceContext",{surface:"Unknown"})},NpNh:function(e,t,a){var n=a("q1tI"),r=a.n(n),i=a("n6mq");t.a=({children:e,marginTop:t=5,textSize:a="md"})=>r.a.createElement(i.k,null,r.a.createElement(i.d,{marginBottom:5,marginTop:t},r.a.createElement(i.p,{color:"gray",size:a},e)))},R6wO:function(e,t,a){a.d(t,"a",(function(){return l}));var n=a("q1tI"),r=a.n(n),i=a("n6mq");function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const s={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class l extends n.PureComponent{constructor(...e){super(...e),o(this,"state",{hovered:!1}),o(this,"handleMouseEnter",e=>this.setState({hovered:!0})),o(this,"handleMouseLeave",e=>this.setState({hovered:!1}))}render(){const{bold:e,icon:t,text:a,description:n,descriptionColor:o="darkGray",compact:l}=this.props,c=Array.isArray(a)?a.join(""):a;return r.a.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},r.a.createElement(i.d,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:c},!l&&t&&r.a.createElement(i.d,{alignSelf:"center",flex:"none",padding:1},"unfollow"===t?r.a.createElement(i.q,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:s,size:16}):r.a.createElement(i.q,{accessibilityLabel:"",color:"darkGray",icon:t,size:16})),r.a.createElement(i.d,{alignItems:l?"center":"start",direction:l?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%"},r.a.createElement(i.R,{color:"darkGray",size:l?"sm":"md",weight:e?"bold":"normal"},a),r.a.createElement(i.d,{alignItems:"center",display:"flex"},!l&&n&&r.a.createElement(i.d,{marginBottom:2,marginTop:1},r.a.createElement(i.R,{color:o,overflow:"normal",size:"sm"},n))))))}}o(l,"defaultProps",{bold:!0})},SNfw:function(e,t,a){a.d(t,"a",(function(){return s}));var n=a("q1tI"),r=a.n(n);const i="#EFEFEF",o="#333333";function s({size:e,iconColor:t,backgroundColor:a,grayscale:n=!1}){const s=t||(n?o:"#8E8E8E"),l=a||(n?i:"#EFEFEF");return r.a.createElement("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("circle",{id:"Oval",fill:l,cx:"18",cy:"18",r:"18"}),r.a.createElement("g",{transform:"translate(9.000000, 12.000000)",fill:s,fillRule:"nonzero"},r.a.createElement("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"}))))}},WM6B:function(e,t,a){var n=a("q1tI");const r=()=>a.e("ShaveLibrary").then(a.bind(null,"eh6K"));t.a=class extends n.Component{constructor(e){var t,a,r;super(e),r={manualTruncate:!1},(a="state")in(t=this)?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,this.ref=n.createRef()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,a=this.ref&&this.ref.current;if(!a)return;const n=void 0===a.textContent?"innerText":"textContent",i=a[n];("boolean"!=typeof t.spaces||t.spaces?i.split(" "):i).length<2?this.setState({manualTruncate:!0}):r().then(({default:n})=>{n(a,e,t)})}render(){const{maxWidthPx:e,maxHeightPx:t,inline:a=!1}=this.props,{manualTruncate:r}=this.state,i={maxWidth:e,maxHeight:t},o=a?{display:"inline",...i}:{...i};return r?n.createElement("div",{ref:this.ref,style:{...o,overflow:"hidden"}},this.props.children):n.createElement("div",{ref:this.ref,style:o},this.props.children)}}},ZdHo:function(e,t,a){a.d(t,"f",(function(){return r})),a.d(t,"e",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"i",(function(){return c})),a.d(t,"h",(function(){return d})),a.d(t,"g",(function(){return u})),a.d(t,"d",(function(){return m}));var n=a("eOdZ");function r(e){return{type:"CONVERSATION_SHOW",payload:{id:e}}}function i(e){return{type:"CONVERSATION_OPEN",payload:{id:e}}}function o(e){return{type:"CONVERSATION_CLOSE",payload:{id:e}}}function s(e){return{type:"CONVERSATION_CREATE",payload:e}}function l(e){return{type:"CONVERSATION_DELETE",payload:{id:e}}}function c(e,t){return{type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}}function d(e,t,a){return{type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:e,messageId:t,newMessageId:a}}}const h=(()=>{let e=0;return()=>e++})();function u(e,t,a){let r;const i=new Promise((o,l)=>{(r=(r,i)=>{const{text:u,pinId:m,boardId:p,userId:g,didItId:f}=t,b=i();function E(){const t=n.a.create("ConversationMessagesResource",{conversation_id:e,text:u,pin:m,board:p,user:g,user_did_it_data:f,source:a}),i=`${h()}`;r(c(e,{text:u,sender:b.viewer,created_at:(new Date).toString(),created_ms:Date.now(),id:i,board:null,event_type:null,pin:m?b.pins[m]:null,type:"message",user_did_it_data:null,user:null})),t.callCreate().then(t=>{r(d(e,i,t.resource_response.data.id)),o()}).catch(l)}b.conversations.data[e]?E():n.a.create("ConversationResource",{conversation_id:e}).callGet().then(e=>{const t=e&&e.resource_response&&e.resource_response.data;r(s(t)),E()})}).getPromise=()=>i});return r}const m=(e,t,a)=>r=>n.a.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(e=>{const t=e&&e.resource_response.data;r(i(t.id))}).catch(e=>{const t=e.message_detail||e.message||"";a(t)})},ZtJp:function(e,t,a){a.d(t,"a",(function(){return s}));var n=a("q1tI"),r=a.n(n);const i="#EFEFEF",o="#333333";function s({size:e,iconColor:t,backgroundColor:a,grayscale:n=!1}){const s=t||(n?o:"#8E8E8E"),l=a||(n?i:"#EFEFEF");return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1"},r.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("circle",{fill:l,cx:"18",cy:"18",r:"18"}),r.a.createElement("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:s,fillRule:"nonzero"},r.a.createElement("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"}))))}},fhk9:function(e,t,a){a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return o}));const n={type:"OPEN_CONVERSATIONS_DROPDOWN"},r={type:"CLOSE_CONVERSATIONS_DROPDOWN"},i=e=>({updateBadgeCount:t=>{e({type:"UPDATE_BADGE_COUNT",payload:t})}}),o=e=>({openConversationsDropdown:()=>e(n),closeConversationsDropdown:()=>e(r)})},geGc:function(e,t,a){a.r(t);var n=a("q1tI"),r=a.n(n),i=a("/MKj"),o=a("Ye/N"),s=a("Cufx"),l=a("oVol"),c=a("n6mq");function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h=Object(i.connect)((function({viewer:e}){return{viewerId:e.isAuth?e.id:""}}),()=>({}))(class extends n.Component{constructor(...e){super(...e),d(this,"state",{textValue:this.props.initialTextValue||""}),d(this,"handleSendMessage",()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)}),d(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})})}render(){const{isFlyout:e,onCancelDraft:t,viewerId:a}=this.props,n=this.props.recipient||{},i="conversation_share_suggestion"===n.type,l=i?(n.users||[]).filter(e=>e.id!==a):[];return r.a.createElement(c.d,{paddingX:4,width:360},r.a.createElement(c.d,{alignItems:"center",display:"flex",paddingY:4},r.a.createElement(c.d,{height:48,paddingX:1,width:56},i?r.a.createElement(c.o,{collaborators:l.map(e=>({name:e.full_name||e.first_name,src:e.image_large_url}))}):r.a.createElement(s.a,{name:n.full_name||n.email||" ",src:n.image_large_url})),r.a.createElement(c.d,{direction:"column",flex:"grow",marginStart:1},r.a.createElement(c.R,{weight:"bold"},i?l.map(e=>e.first_name||e.full_name).join(", "):n.full_name||n.email),r.a.createElement(c.R,{color:"gray",size:"sm"},i||n.username?n.username:o.a._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible"))),e?r.a.createElement(c.r,{accessibilityLabel:o.a._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}):null),r.a.createElement(c.d,null,r.a.createElement(c.d,null,r.a.createElement(c.S,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:o.a._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})),r.a.createElement(c.d,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4},r.a.createElement(c.e,{color:"red",inline:!0,onClick:this.handleSendMessage,size:"lg",text:o.a._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"}))))}}),u=a("xdpg");function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class p extends n.Component{constructor(...e){super(...e),m(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),m(this,"handleSendEmail",(e,t)=>{if(e){const a={email:e,full_name:e,id:"",image_large_url:"",username:""};this.props.onSendMessage(a,t)}}),m(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})}),m(this,"handleEmailValueChange",({value:e})=>{this.setState({emailValue:e})})}render(){const{isFlyout:e,onCancelDraft:t}=this.props;return r.a.createElement(c.d,{display:"flex",direction:"column",column:12,paddingX:4,width:360},r.a.createElement(c.d,{display:"flex",alignItems:"center",paddingY:4},r.a.createElement(c.d,{flex:"grow"},r.a.createElement(c.R,{weight:"bold"},o.a._("Send to","shareSheet.SendToEmail.label","Send to label"))),e?r.a.createElement(c.r,{accessibilityLabel:o.a._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null),r.a.createElement(c.d,{display:"flex",direction:"column"},r.a.createElement(c.d,{paddingY:1,marginBottom:4},r.a.createElement(c.S,{id:"email",onChange:this.handleEmailValueChange,placeholder:o.a._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})),r.a.createElement(c.S,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:o.a._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),r.a.createElement(c.d,{paddingY:4,display:"flex",justifyContent:"center"},r.a.createElement(c.e,{inline:!0,size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:o.a._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!Object(u.g)(this.state.emailValue)}))))}}var g=a("vvax");function f({email:e,isValid:t,onClick:a,showSendEmailText:n}){const i=t?o.a._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):o.a._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),l=n?Object(g.b)(o.a._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:e}):Object(g.b)(o.a._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:e});return r.a.createElement(c.d,{marginBottom:4},r.a.createElement(c.Q,{onTap:()=>{t&&a()}},r.a.createElement(c.d,{display:"flex"},r.a.createElement(c.d,{height:48,width:48},r.a.createElement(s.a,{name:e})),r.a.createElement(c.d,{paddingX:3,display:"flex",justifyContent:"center",direction:"column"},r.a.createElement(c.R,{weight:"bold",size:"lg"},l),r.a.createElement(c.R,{size:"sm",color:"gray"},i)))))}var b=a("iS6d"),E=a("w1Xl"),y=a("8vQR"),w=a("4cpq");function S(e){const{shouldShowViewChat:t,isSent:a,onClickSend:n,onViewConversation:i}=e;return r.a.createElement(c.d,{display:"flex"},t?r.a.createElement(c.Q,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),i()}},r.a.createElement(c.d,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex"},r.a.createElement(c.R,{color:"darkGray",size:"md",truncate:!0,weight:"bold"},o.a._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")),r.a.createElement(c.d,{marginStart:1},r.a.createElement(c.q,{accessibilityLabel:o.a._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})))):r.a.createElement(w.a,{id:a?"sharesheet-viewchat-link":"sharesheet-send-button"},r.a.createElement(c.e,{color:a?"gray":"red",disabled:a,inline:!0,onClick:n,size:"lg",text:a?o.a._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):o.a._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})))}var C=a("U4JR"),v=a("0SCs");function _(e){var t,a,o;const{item:l,textFieldValue:d,onSendMessage:h,onShowSendDraft:u,onViewConversation:m,sentHistory:p}=e,[g,f]=Object(n.useState)(!1),[w,_]=Object(n.useState)(!1),[x,O]=Object(n.useState)(!1),k=l.id||"string"==typeof l.email&&l.email||"",L=k in p,j=""!==d,T=null!==(t=p[k])&&void 0!==t?t:"",I=Object(i.useSelector)(e=>e.viewer.id||""),P="conversation_share_suggestion"===l.type,D=P?(l.users||[]).filter(e=>e.id!==I):[],F=l.debug_reason&&l.debug_reason.readable_reason;let N="";"string"!=typeof l.full_name||l.full_name.match(/^\s*$/)?"string"!=typeof l.email||l.email.match(/^\s*$/)||(N=l.email):N=l.full_name;const{anyEnabled:R,customActivate:A}=Object(v.b)("web_hide_contact_suggestions");return g?r.a.createElement(E.a,{identifier:null!==(a=l.id)&&void 0!==a?a:l.email,onUndoHide:()=>f(!1),component:13029,element:11918,isGroupChat:D.length>1}):r.a.createElement(c.d,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%"},r.a.createElement(c.Q,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),u(l)}},r.a.createElement(c.f,{onMouseEnter:()=>{A(),_(!j)},onMouseLeave:()=>_(!1)},r.a.createElement(c.d,{alignItems:"center",display:"flex"},r.a.createElement(c.d,{height:48,width:48},P?r.a.createElement(c.o,{collaborators:D.map(e=>({name:e.full_name||e.first_name,src:e.image_medium_url}))}):r.a.createElement(s.a,{accessibilityLabel:"",name:N,src:l.image_medium_url})),r.a.createElement(c.d,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"100%"},r.a.createElement(c.d,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow"},r.a.createElement(c.R,{color:"darkGray",truncate:!0,weight:"bold"},P?D.map(e=>e.first_name||e.full_name).join(", "):N),j&&F?r.a.createElement(c.R,{color:"gray",size:"sm"},F):"string"==typeof l.username&&r.a.createElement(c.R,{color:"gray",size:"sm"},l.username)),r.a.createElement(c.d,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center"},R&&w&&r.a.createElement(c.d,{display:"flex",marginEnd:2},r.a.createElement(y.a,{identifier:null!==(o=l.id)&&void 0!==o?o:l.email,onHide:()=>f(!0),component:13029,element:11917})),r.a.createElement(S,{shouldShowViewChat:L,isSent:x,onClickSend:({event:t})=>{t.stopPropagation(),(()=>{var t;const{idx:a}=e,n=d?1044:1039;Object(C.a)(101,{component:13029,element:n,entered_query:d,result_index:a+1,rs:null===(t=l.debug_reason)||void 0===t?void 0:t.reason})})(),O(!0),h(l)},onViewConversation:()=>m(T)})))))),r.a.createElement(b.a.Consumer,null,e=>{var t;return e?r.a.createElement(c.d,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0},r.a.createElement(c.p,{color:"blue",size:"sm"},null===(t=l.debug_reason)||void 0===t?void 0:t.reason)):null}))}var x=a("zLLH"),O=a("fArA"),k=a("ZdHo"),L=a("fhk9");const j=185;var T=Object(O.compose)(Object(x.c)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource",options:{field_set_key:"default"}},{allowStale:!1}),Object(x.c)({name:"ShareSuggestionsTypeaheadResource",key:"shareSuggestionsTypeaheadResource",options:e=>({field_set_key:"default",term:e.value||"default"})},{allowStale:!1}))((function(e){const{onChange:t,onSendMessage:a,onShowSendDraft:n,onShowImportContacts:s,sentHistory:l,value:d,shareSuggestionsResource:{isLoaded:h},shareSuggestionsTypeaheadResource:{isLoaded:m},paddingX:p}=e,g=Object(i.useSelector)(e=>e.social.shareSuggestions[d]||[]),b=Object(i.useDispatch)(),E=t=>{const{isFlyout:a,onHide:n}=e;!a&&n&&n(),(e=>b(Object(k.e)(e)))(t),(()=>b(L.b))()},y=g.map((e,t)=>{const i=`${t}-${d?"search":"suggestion"}`,o={item:e,idx:t,onSendMessage:a,onShowSendDraft:n,onViewConversation:E,sentHistory:l,textFieldValue:d};return r.a.createElement(_,Object.assign({key:i},o))}),w=0===g.length&&(""===d&&!h||""!==d&&!m);return r.a.createElement(c.d,null,r.a.createElement(c.d,{display:"flex",paddingX:p,position:"relative"},r.a.createElement(c.d,{"data-test-id":"sharesheet-search-user",width:"100%"},r.a.createElement(c.H,{accessibilityLabel:o.a._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:t,placeholder:o.a._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:d}))),r.a.createElement(c.d,{dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden",zIndex:1e3}},height:j,marginBottom:4,marginTop:2},r.a.createElement(c.d,{paddingX:p},r.a.createElement(c.d,{paddingY:w?2:0},r.a.createElement(c.K,{accessibilityLabel:o.a._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:w})),r.a.createElement(c.d,null,y,d&&r.a.createElement(c.d,null,r.a.createElement(c.f,null,r.a.createElement(f,{email:d,isSend:!0,isValid:Object(u.g)(d),onClick:()=>n({email:d,full_name:d}),showSendEmailText:!1})),!w&&r.a.createElement(c.d,{width:"100%"},r.a.createElement(c.f,null,r.a.createElement(c.Q,{onTap:s},r.a.createElement(c.d,{alignItems:"center",direction:"row",display:"flex"},r.a.createElement(c.d,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48},r.a.createElement(c.q,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})),r.a.createElement(c.d,{paddingX:3},r.a.createElement(c.R,{weight:"bold"},o.a._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list"))))))))))))})),I=a("ZtJp"),P=a("WM6B");var D=({text:e})=>r.a.createElement(c.R,{align:"center",size:"sm"},r.a.createElement(P.a,{maxWidthPx:128,maxHeightPx:50},e));var F=({iconSize:e,marginEnd:t,children:a})=>r.a.createElement(c.d,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e+24},a);const N=()=>a.e("clipboardLibrary").then(a.t.bind(null,"sxGJ",7));var R=({onClick:e,iconColor:t,iconSize:a,backgroundColor:i,invitePath:s})=>{const[l,d]=Object(n.useState)(!1),h=Object(n.useRef)(null);return Object(n.useEffect)(()=>{N().then(({default:e})=>{e.isSupported()&&(e=>{if(!h.current||!N)return;new e(h.current,{text:()=>s}).on("error",e=>{throw new Error("<ShareSocialBar /> error: copy command failed")})})(e)})},[s]),r.a.createElement(F,{iconSize:a,marginEnd:!1},r.a.createElement(c.d,{ref:h},r.a.createElement(c.Q,{onTap:()=>{e(),d(!0),setTimeout(()=>{d(!1)},3e3)}},r.a.createElement(c.d,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center"},r.a.createElement(I.a,{backgroundColor:i,iconColor:t,size:a}))),r.a.createElement(D,{text:l?o.a._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"):o.a._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})))},A=a("SNfw"),B=a("UTsl");const M="#EFEFEF",z="#333333";function V({size:e=48,iconColor:t,backgroundColor:a,grayscale:n=!1}){const i=t||(n?z:"#8E8E8E"),o=a||(n?M:"#EFEFEF");return r.a.createElement("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd"},r.a.createElement("circle",{fill:o,cx:"24",cy:"24",r:"24",stroke:"none"}),r.a.createElement("g",{transform:"translate(14.000000, 14.000000)",fill:i},r.a.createElement("circle",{cx:"10",cy:"10",r:"6"}),r.a.createElement("circle",{cx:"17",cy:"3",r:"2"}),r.a.createElement("circle",{cx:"17",cy:"17",r:"2"}),r.a.createElement("circle",{cx:"19",cy:"10",r:"1"}),r.a.createElement("circle",{cx:"10",cy:"19",r:"1"}),r.a.createElement("circle",{cx:"1",cy:"10",r:"1"}),r.a.createElement("circle",{cx:"10",cy:"1",r:"1"}),r.a.createElement("circle",{cx:"3",cy:"17",r:"2"}),r.a.createElement("circle",{cx:"3",cy:"3",r:"2"}))))}var H=a("v/Q4");function U({sharedObject:e,onCreatePincodeClick:t,iconColor:a,iconSize:n,backgroundColor:i}){const s=Object(H.a)();return t&&[l.a.BOARD,l.a.PINNER,l.a.USER].includes(e.type)&&s.isAuth&&(e.id===s.id||s.isEmployee)?r.a.createElement(F,{key:"pincode",iconSize:n,marginEnd:!0},r.a.createElement(c.Q,{fullWidth:!1,onTap:t},r.a.createElement(V,{backgroundColor:i,iconColor:a,size:n})),r.a.createElement(D,{text:o.a._("Pincode","Share via pincode","Share via pincode")})):null}var G=a("zwad"),q=a("mBfy"),W=a("udob"),Y=a("joD6");const Q="#EFEFEF",X="#333333";function Z({size:e=48,grayscale:t=!1}){const a=t?X:"#FFFFFF",n=t?Q:"#1877f2";return r.a.createElement("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e},r.a.createElement("title",null,"f_logo_RGB-Blue_1024"),r.a.createElement("g",{id:"surface1"},r.a.createElement("path",{style:{fill:n,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),r.a.createElement("path",{style:{fill:a,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})))}function $({size:e=48,grayscale:t=!1}){const a=t?X:"#FFFFFF",n=t?Q:"#0DC2FF";return r.a.createElement("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"surface1"},r.a.createElement("path",{style:{fill:n,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),r.a.createElement("path",{style:{fill:a,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})))}function K({size:e=48,grayscale:t=!1}){const a=t?X:"#FFFFFF",n=t?Q:"#25d366";return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,version:"1.1"},r.a.createElement("g",{id:"surface1"},r.a.createElement("path",{style:{fill:n,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),r.a.createElement("path",{style:{fill:a,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})))}var J=a("nGHF");function ee(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const te=48,ae="#111111",ne="#EFEFEF",re={backgroundColor:"#ffffff",border:"none",padding:0};var ie=Object(O.compose)(Y.a,J.c)(class extends n.Component{constructor(...e){super(...e),ee(this,"state",{invitePath:"",whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),ee(this,"mounted",!1),ee(this,"logShareInviteLink",()=>{const{copyLinkLogged:e,inviteData:t}=this.state,a=this.getShareOptions(12);e||(W.a.logShareInvite(a,t),this.setState({copyLinkLogged:!0}))}),ee(this,"createShareInviteLink",()=>{const e=this.getShareOptions(12),{inviteData:t}=this.state;t||W.a.createShareInviteData(e).then(e=>{const t=e.invite_url;t?this.setState({invitePath:t,inviteData:e}):this.setState({inviteData:e})})}),ee(this,"selectText",e=>{e.target.select()})}componentDidMount(){this.mounted=!0,this.getWhatsAppURL(),this.createShareInviteLink()}componentWillUnmount(){this.mounted=!1}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){switch(e){case l.a.BOARD:return o.a._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case l.a.PIN:return o.a._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case l.a.PINNER:return o.a._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);W.a.createShareInviteData(e).then(e=>{const t=e.message;if(t){const a=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+a})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+G.a.absolutify(this.props.sharedObject.url)})})}checkWritePermissions(){return!!q.default.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e&&(this.openEmailDialog(),t=258),this.props.onExternalSend&&this.props.onExternalSend(),Object(C.a)(101,{component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}getFacebookSDK(e){B.default.ensureInit(t=>e(t))}openFacebookDialog(){this.getFacebookSDK(e=>{B.default.logIn(e,()=>{W.a.shareFacebookInvite(this.getShareOptions(5))})})}openFbMessengerDialog(){this.getFacebookSDK(e=>{B.default.logIn(e,()=>{W.a.shareFbMessengerInvite(this.getShareOptions(6))})})}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(W.a.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){W.a.shareTwitterInvite(this.getShareOptions(9))}renderShareOptions(){const{sharedObject:e,onCreatePincodeClick:t}=this.props;return r.a.createElement(n.Fragment,null,r.a.createElement(c.d,{display:"flex",justifyContent:"around"},r.a.createElement(F,{iconSize:te,marginEnd:!0},r.a.createElement("button",{"aria-label":o.a._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:()=>this.handleSocialShareClick("whatsapp"),style:re,tabIndex:"-1"},r.a.createElement("a",{href:this.state.whatsappURL,rel:"noopener noreferrer",target:"_blank"},r.a.createElement(K,{size:te}))),r.a.createElement(D,{text:o.a._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})),r.a.createElement(F,{iconSize:te,marginEnd:!0},r.a.createElement("button",{"aria-label":o.a._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:()=>this.handleSocialShareClick("facebook"),style:re},r.a.createElement(Z,{size:te})),r.a.createElement(D,{text:o.a._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})),r.a.createElement(F,{iconSize:te,marginEnd:!0},r.a.createElement("button",{"aria-label":o.a._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:()=>this.handleSocialShareClick("twitter"),style:re},r.a.createElement($,{size:te})),r.a.createElement(D,{text:o.a._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})),r.a.createElement(F,{iconSize:te,marginEnd:!1},this.renderEmail())),r.a.createElement(c.d,{display:"flex",paddingY:4},r.a.createElement(U,{backgroundColor:ne,iconColor:ae,iconSize:te,onCreatePincodeClick:t,sharedObject:e}),r.a.createElement(R,{key:"copylink",backgroundColor:ne,iconColor:ae,iconSize:te,invitePath:this.state.invitePath,onClick:()=>this.handleSocialShareClick("copylink")})))}renderEmail(){return r.a.createElement(F,{key:"email",iconSize:te,marginEnd:!1},r.a.createElement(c.d,{display:"inlineBlock"},r.a.createElement(c.Q,{fullWidth:!1,onTap:()=>this.handleSocialShareClick("email")},r.a.createElement(A.a,{backgroundColor:ne,iconColor:ae,size:te}))),r.a.createElement(D,{text:o.a._("Email","Share via email","Share via email")}))}render(){const{sharedObject:e,paddingX:t}=this.props;return r.a.createElement(c.d,{paddingX:t},r.a.createElement(c.d,{alignContent:"center",alignItems:"center",display:"flex",height:64,justifyContent:"center"},r.a.createElement(c.R,{size:"lg",weight:"bold"},this.getSendDisplayText(e.type))),r.a.createElement(c.d,{paddingX:2},this.renderShareOptions()))}}),oe=a("7w6Q"),se=a("eOdZ"),le=a("CvCA");function ce(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingSquareGridRelatedProductsBoth":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var de=a("ENhS");const he=4,ue=(e,t)=>{const a={};return e.forEach(e=>{a[e]=t}),a},me=e=>"today_article"===e?o.a._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):"";var pe=Object(i.connect)(null,e=>({createConversation:t=>e(Object(k.b)(t)),sendMessage:t=>e(t)}))((function(e){const[t,a]=Object(n.useState)(!1),[i,o]=Object(n.useState)(null),[s,l]=Object(n.useState)({}),[d,u]=Object(n.useState)(""),[m]=Object(n.useState)(me(e.sendType)),{showOneToast:g}=Object(J.b)(),{surface:f}=Object(de.b)(),b=(t,n)=>{a(!1),e.onMessageSent(),((t,a)=>{const{sharedObject:n}=e,r=n.id;oe.a.increment("web.sharesheet.internal.send",1,{status:"success"}),Object(C.a)(180,{element:276,objectId:r,conversation_id:t,pin_id:a})})(t,n)},E=e=>{oe.a.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&g(({onHide:e})=>r.a.createElement(le.a,{color:"red",duration:5e3,onHide:e,text:t}))},y=async(t,a,n)=>{const{createConversation:r,sharedObject:i,sendType:o}=e,c=i.id,d={emails:a,user_ids:t,text:n,source:ce(f)};d[o]=c;const h=se.a.create("ConversationsResource",d);try{const e=await h.callCreate(),n=e&&e.resource_response.data;r(n),b(n.id,"pin"===o?c:null),t.length>0?l({...s,...ue(t,n.id)}):l({...s,...ue(a,n.id)})}catch(u){E(u)}},w=(t,a)=>{"conversation_share_suggestion"===t.type?((t,a,n)=>{const{sendMessage:r,sharedObject:i,sendType:o}=e;let c;switch(o){case"pin":c="pinId";break;case"board":c="boardId";break;case"did_it":c="didItId";break;case"user":case"pinner":c="userId"}const d=c?Object(k.g)(t,{text:a,[c]:i.id,source:ce(f)}):void 0;d&&(r(d),d.getPromise().then(()=>{b(t,"pin"===o?i.id:null),l({...s,[t]:t})}).catch(e=>{E(e)}))})(t.id,a):"contact_share_suggestion"!==t.type&&"user_share_suggestion"!==t.type&&"user"!==t.type||!t.username?y([],[t.email],a):y([t.id],[],a),Object(C.a)(101,{component:56,element:276})},S=()=>{a(!1),o(null)},{onCreatePincodeClick:v,onShowImport:_,sendType:x,sharedObject:O,isFlyout:L,onHide:j,onExternalSend:I}=e,P="email"===i?r.a.createElement(p,{initialTextValue:m,isFlyout:L,objectId:O.id,objectType:x,onCancelDraft:S,onHide:j,onSendMessage:w}):r.a.createElement(h,{initialTextValue:m,isFlyout:L,objectId:O.id,objectType:x,onCancelDraft:S,onHide:j,onSendMessage:w,recipient:"object"==typeof i?i:void 0});return t?P:r.a.createElement(c.d,{color:"white"},r.a.createElement(ie,{onCreatePincodeClick:v,onEmailIconClick:()=>{a(!0),o("email")},onExternalSend:I,onHide:j,paddingX:he,sharedObject:O}),r.a.createElement(c.d,null,r.a.createElement(T,{isFlyout:L,onChange:({value:e})=>{u(e),Object(C.a)(4113,{component:13029,element:1043})},onHide:j,onSendMessage:w,onShowImportContacts:_,onShowSendDraft:e=>{a(!0),o(e)},paddingX:he,sentHistory:s,value:d})))})),ge=a("TSYQ"),fe=a.n(ge),be=a("+zF7");const Ee=["facebook","google","twitter"];function ye(e){const t=fe()("SocialNetworkConnectButton","listItem","sendShare",e.network),a=(n=e.network,i=e.email,"facebook"===n?o.a._("Friends who are on Pinterest"):"google"===n&&i&&-1!==i.indexOf("@gmail")?i:null);var n,i;return r.a.createElement("a",{onClick:e.onClick,role:"button"},r.a.createElement("div",{className:t},r.a.createElement("em",{className:"icon"}),r.a.createElement("div",{className:"networkInfo"},r.a.createElement("h4",{className:"title"},function(e){return"facebook"===e?o.a._("Facebook"):"twitter"===e?o.a._("Twitter"):"google"===e?o.a._("Google"):o.a._("Other")}(e.network)),a?r.a.createElement("div",{className:"subtitle"},a):null)))}function we({onBack:e}){const t=Object(H.a)(),a=t.isAuth?t.email:null,n=Ee.filter(e=>!t.isAuth||!1===t.socialNetwork[e].connected);return r.a.createElement("div",{className:"SocialConnectPanel sendShare"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"backNav"},r.a.createElement("a",{onClick:e,role:"button"},r.a.createElement("span",{className:"icon"}),r.a.createElement("span",{className:"label"},o.a._("Back")))),r.a.createElement("div",{className:"prompt"},o.a._("Upload contacts from..."))),r.a.createElement("ul",{className:"socialConnectOptions"},n.map(e=>r.a.createElement("li",{style:{borderLeft:"none"},key:e},r.a.createElement(ye,{email:a,network:e,onClick:()=>(function(e){be.a.instance().handleConnect(e,!0,{})})(e)})))))}a.d(t,"default",(function(){return Ce}));const Se="Module SendObjectBase sendShare";function Ce({classNames:e="",isFlyout:t=!1,onCreatePincodeClick:a,onExternalSend:i,onHide:o,sendType:s,sharedObject:l,viewType:d,viewParameter:h}){const[u,m]=Object(n.useState)(!1),[p,g]=Object(n.useState)(!1);Object(n.useEffect)(()=>(Object(C.a)(7120,{objectId:l.id,view:d,viewParameter:h}),()=>{Object(C.a)(7121,{objectId:l.id,view:d,viewParameter:h});const e=p?7493:7492;Object(C.a)(e,{view:d,viewParameter:h})}),[]);const f=()=>{m(!0)},b=()=>{m(!1)},E=()=>{g(!0)};return u?(()=>{const e=t?Se:"";return r.a.createElement("div",{className:e},r.a.createElement(we,{onBack:b}))})():(()=>r.a.createElement(c.d,{dangerouslySetInlineStyle:{__style:{zIndex:1}},overflow:"hidden"},r.a.createElement(pe,{isFlyout:t,onCreatePincodeClick:a,onHide:o,onShowImport:f,onMessageSent:E,onExternalSend:i,sendType:s,sharedObject:l})))()}},iS6d:function(e,t,a){var n=a("q1tI"),r=a.n(n);t.a=r.a.createContext(!1)},oVol:function(e,t,a){a.d(t,"a",(function(){return n}));const n={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article"}},q8wg:function(e,t,a){var n=a("q1tI"),r=a.n(n),i=a("8wun"),o=a("1u47");t.a=e=>r.a.createElement(o.a,Object.assign({},e,{timeSpentManager:i.a}))},qWlA:function(e,t,a){var n=a("zpPL"),r=a("+PUW");t.a=e=>{const t=n.a.instance&&n.a.instance.getState()||{viewer:{}};return!t.viewer.isAuth||t.viewer.isLimitedLogin?e=>n.a.instance.dispatch(r.b):e}},"v/Q4":function(e,t,a){a.d(t,"a",(function(){return r}));var n=a("/MKj");function r(){return Object(n.useSelector)(({viewer:e})=>e)}},w1Xl:function(e,t,a){a.d(t,"a",(function(){return d}));var n=a("q1tI"),r=a.n(n),i=a("Ye/N"),o=a("7w6Q"),s=a("eOdZ"),l=a("U4JR"),c=a("n6mq");function d(e){const{identifier:t,onUndoHide:a,isGroupChat:n}=e,d=()=>{s.a.create("ShareSuggestionsHideResource",{user_identifier:t}).callDelete().then(()=>{a(),(()=>{const{component:t,element:a}=e;Object(l.a)(101,{component:t,element:a}),o.a.increment("web_contacts.suggestions.undo_hide",1,{surface:t})})()})};return r.a.createElement(c.d,{paddingY:2},r.a.createElement(c.F,{gap:1},r.a.createElement(c.R,{inline:!0,color:"gray"},n?i.a._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):i.a._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact")),r.a.createElement(c.e,{onClick:({event:e})=>{e.stopPropagation(),d()},text:i.a._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button",inline:!0})))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/115-b617361fdb8dc81bd9f0.mjs.map